<?php

namespace App\Repository\Eloquent;

use App\Models\LocalVision;
use Illuminate\Database\Eloquent\Collection;
use Illuminate\Database\Eloquent\Model;

/**
 *
 */
class LocalVisionRepository extends BaseRepository
{

    /**
     * @param LocalVision $localVision
     */
    public function __construct(LocalVision $localVision)
    {
        parent::__construct($localVision);
    }

    /**
     * @param array $attributes
     * @return Model
     */
    public function create(array $attributes): Model
    {
        return parent::create($attributes); // TODO: Change the autogenerated stub
    }

    /**
     * @param int $projectId
     * @return Collection
     */
    public function getAllLocalVisionsByProjectId(int $projectId): Collection
    {
        /** @var Collection|null $collection */

        return LocalVision::where('project_id', '=', $projectId)->orderBy('accepted', 'ASC')
            ->orderBy('created_at', 'DESC')->with('author')->get(); // TODO: Change the autogenerated stub
    }
}
